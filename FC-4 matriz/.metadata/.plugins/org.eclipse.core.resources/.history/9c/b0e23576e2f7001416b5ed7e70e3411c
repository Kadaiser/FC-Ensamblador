/*-----------------------------------------------------------------
**
**  Fichero:
**    rutinas_asm.asm  10/6/2014
**
**    Fundamentos de Computadores
**    Dpto. de Arquitectura de Computadores y Automática
**    Facultad de Informática. Universidad Complutense de Madrid
**
**
**
**  Notas de diseño:
**
**---------------------------------------------------------------*/

.global contarUnos


.text
/*	PROCEDIMIENTO QUE RECIBE 4 PARAMETROS
R0	DIRECCION DEL PRIMER ELEMENTO DE LA MATRIZ
R1	VALOR DE VECTOR
R2	VALOR DEL NUMERO DE FILAS DE LA MATRIZ
R3	VALOR DEL NUMERO DE COLUMNAS DE LA MATRIZ
*/

contarUnos:
  		push {R4,r5,r6}			//prologo, subrutina hoja, 2 variabes locales "i" "j", no retorna resultado
 		MOV R4, #0				//inicializar "i"
 		MOV R5, #0				//auxiliar de intercambio a 0
 		MOV R6, #0				//INICIALIZAR "j"
 bucleI:
 		CMP R4, R2 				//for (i=0;i<nfilas;i++)
		BGE finbucleI
 		STR	R5 [R1, R5,LSL#2] 	// vector[i]=0

 bucleJ:
 		CMP R6, R3
 		BGE finbucleJ			//for (j=0; j<ncols; j++)





finbucleJ:
		MOV R6, #0 				//reinicar contador "j"
 		ADD R4, R4, #1			//icrementar contador "i"
 		B bucleI


finbucleI:
		POP {R5,R6}
  		bx lr
